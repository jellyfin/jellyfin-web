#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running lint-staged..."
npx lint-staged

# Get staged files for related tests
STAGED_FILES=$(git diff --name-only --cached --diff-filter=d | grep -E '\.(js|jsx|ts|tsx)$')

if [ -n "$STAGED_FILES" ]; then
  echo "ğŸ§ª Running related tests..."
  npm run test:related -- $STAGED_FILES
fi
